2025-04-15T07:31:42+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T07:31:42+02:00 :: method inside the insertNotification 

2025-04-15T07:31:42+02:00 :: requested data : assign_to => 21 

2025-04-15T07:31:42+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T07:31:46+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T07:31:46+02:00 :: method inside the insertNotification 

2025-04-15T07:31:46+02:00 :: requested data : assign_to => 15 

2025-04-15T07:31:46+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T07:31:51+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T07:31:51+02:00 :: method inside the updateStatus 

2025-04-15T07:31:51+02:00 :: requested data : ticket_id => 15 and status => 3 

2025-04-15T07:31:51+02:00 :: updateTicketRecord_query => UPDATE ticket_record SET status = '3'  WHERE id = '15' 

2025-04-15T07:31:51+02:00 :: method inside the insertTicketHistory 

2025-04-15T07:31:51+02:00 :: requested data : ticket_id => 15 

2025-04-15T07:31:51+02:00 :: getUpdatedData_query => SELECT assign_by , assign_to , status , priority , category , department ,deadline_date,timer_stop FROM `ticket_record` WHERE id = '15' 

2025-04-15T07:31:51+02:00 :: Insert into ticket_history successful 

2025-04-15T07:31:51+02:00 :: respose => {"status":200,"message":"Status Updated successfully!"}

 ============ End Of Script ================== 

2025-04-15T07:31:51+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T07:31:51+02:00 :: method inside the insertNotification 

2025-04-15T07:31:51+02:00 :: requested data : assign_to => 15 

2025-04-15T07:31:51+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T07:31:56+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T07:31:56+02:00 :: method inside the updateStatus 

2025-04-15T07:31:56+02:00 :: requested data : ticket_id => 15 and status => 4 

2025-04-15T07:31:56+02:00 :: updateTicketRecord_query => UPDATE ticket_record SET status = '4'  , timer_stop = '2025-04-15 07:31:56' WHERE id = '15' 

2025-04-15T07:31:56+02:00 :: method inside the insertTicketHistory 

2025-04-15T07:31:56+02:00 :: requested data : ticket_id => 15 

2025-04-15T07:31:56+02:00 :: getUpdatedData_query => SELECT assign_by , assign_to , status , priority , category , department ,deadline_date,timer_stop FROM `ticket_record` WHERE id = '15' 

2025-04-15T07:31:56+02:00 :: Insert into ticket_history successful 

2025-04-15T07:31:56+02:00 :: respose => {"status":200,"message":"Status Updated successfully!"}

 ============ End Of Script ================== 

2025-04-15T07:31:56+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T07:31:56+02:00 :: method inside the insertNotification 

2025-04-15T07:31:56+02:00 :: requested data : assign_to => 15 

2025-04-15T07:31:56+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T13:52:55+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T13:52:55+02:00 :: method inside the insertNotification 

2025-04-15T13:52:55+02:00 :: requested data : assign_to => 15 

2025-04-15T13:52:55+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T13:52:58+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T13:52:58+02:00 :: method inside the insertNotification 

2025-04-15T13:52:58+02:00 :: requested data : assign_to => 21 

2025-04-15T13:52:58+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T13:53:16+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T13:53:16+02:00 :: method inside the insertNotification 

2025-04-15T13:53:16+02:00 :: requested data : assign_to => 15 

2025-04-15T13:53:16+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T13:53:20+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T13:53:20+02:00 :: method inside the insertNotification 

2025-04-15T13:53:20+02:00 :: requested data : assign_to => 18 

2025-04-15T13:53:20+02:00 :: respose => {"status":200,"message":"Notification already added successfully!"}

 ============ End Of Script ================== 

2025-04-15T13:54:49+02:00 :: StoreAndupdateTicket Script Start 

2025-04-15T13:54:49+02:00 :: method inside the updateStatus 

2025-04-15T13:54:49+02:00 :: requested data : ticket_id => 18 and status => 4 

2025-04-15T13:54:49+02:00 :: updateTicketRecord_query => UPDATE ticket_record SET status = '4'  , timer_stop = '2025-04-15 01:54:49' WHERE id = '18' 

2025-04-15T13:54:49+02:00 :: method inside the insertTicketHistory 

2025-04-15T13:54:49+02:00 :: requested data : ticket_id => 18 

2025-04-15T13:54:49+02:00 :: getUpdatedData_query => SELECT assign_by , assign_to , status , priority , category , department ,deadline_date,timer_stop FROM `ticket_record` WHERE id = '18' 

2025-04-15T13:54:49+02:00 :: Insert into ticket_history successful 

2025-04-15T13:54:49+02:00 :: method inside the getTicketAllInformation 

2025-04-15T13:54:49+02:00 :: requested data : ticket_id => 18 

2025-04-15T13:54:49+02:00 :: fetch ticket info Query => SELECT ticket_record.id , ticket_record.unique_id , ticket_record.task_name , ticket_record.task_description , CASE WHEN ticket_record.priority = '1' THEN 'Low' WHEN ticket_record.priority = '2' THEN 'Medium' WHEN ticket_record.priority = '3' THEN 'High' END as `ticketPriority` , DATE_FORMAT(ticket_record.updated_at,'%d-%b-%Y %h:%i:%s') as `assignDate` , ticket_record.create_person_name as `createdPersonName` , assign_to_user.Name as `assignToUser` , assign_by_user.Name as `assignByUser` , ticket_record.create_person_email as `createPersonEmail` , assign_to_user.Email as `assignToUserEmail` FROM ticket_record LEFT JOIN users as `assign_to_user` ON ticket_record.assign_to = assign_to_user.ID LEFT JOIN users AS `assign_by_user` ON ticket_record.assign_by = assign_by_user.ID  WHERE ticket_record.id = '18' 

2025-04-15T13:54:49+02:00 :: method inside the createEmailData 

2025-04-15T13:54:49+02:00 :: requested ticket_info_data => {"ticket_id":"18","ticketQniqueId":"GLOCAL-4","ticketSubject":"Exam Form Not Show","ticketPriority":"High","assignDate":"15-Apr-2025 05:24:49","createdPersonName":"GUNISHA SHARMA ","assignToUser":"Deepak Singh Rawat","assignByUser":"Mahinder Nautiyal","createPersonEmail":"sharmagunisha2@gmail.com","assignToUserEmail":"deepak@edtechinnovate.com"} email_function => {"messageToCreateUserForReviewTicket":{"email":"sharmagunisha2@gmail.com"}} 

2025-04-15T13:54:49+02:00 :: inside the method => messageToCreateUserForReviewTicket 

2025-04-15T13:54:49+02:00 :: url => http://edtechstrucure.local/app/tickets/createTicketReviewMessage , request => {"ticketQniqueId":"GLOCAL-4","createPersonName":null,"ticket_id":"18","close_url":"http:\/\/edtechstrucure.local\/app\/tickets\/storeAndupdateTicket","reopen_url":"http:\/\/edtechstrucure.local\/api\/ticket\/ReopenTicketReviewMessage"} 

2025-04-15T13:54:49+02:00 :: mailbody => 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .request_button {
            margin: 4px 2px;
            display: block;
            height: 25px;
            padding: 10px 20px;
            text-align: center;
            border-radius: 16px;
            font-weight: bold;
            line-height: 25px;
        }
    </style>
</head>
<body>
    
<section>
    <p>Hi </p>,
    <div>Our support team has reviewed and worked on your ticket <strong><br />
<b>Warning</b>:  Undefined array key "ticket_uniqueId" in <b>C:\xampp\htdocs\edtech_organizational_structure\app\tickets\createTicketReviewMessage.php</b> on line <b>29</b><br />
</strong></div>.
    <div>We believe the issue has been resolved. Please take a moment to review the ticket.</div>
    <div>If the issue is resolved, you can go ahead and close the ticket. If not, feel free to re-open the Ticket.</div>
    <p><b>Action Required : </b></p>
    <div style = "display:flex;gap:0.5rem;">
        <a href= "http://edtechstrucure.local/app/tickets/storeAndupdateTicket" id="closeButton" class = "button request_button" style = "background: #40ca58eb;color: white;">Close</a>
        <a href= "http://edtechstrucure.local/api/ticket/ReopenTicketReviewMessage" id="reopenButton" class = "button request_button" style = "background:rgba(234, 168, 36, 0.86);color: white;">Re-open</a>
    </div>
    <br><br>
    <small><i>  *This is a system-generated email. No reply is required.</i></small>
</section>

<script type="text/javascript">

var baseUrl = "http://edtechstrucure.local";

document.getElementById("reopenButton").addEventListener("click" , (e) => {
    let openWindowId ;
    let ticket_id = '18';
    ticket_id = base64_encode(ticket_id);
    if(window.confirm("Want to Re-open the ticket?")) {
        openWindowId = window.open(baseUrl+"/api/ticket/ReopenTicketReviewMessage.php?ticket_id="+ticket_id);
    } 
})

document.getElementById("closeButton").addEventListener("click" , async function(e){
    let url = baseUrl+"/app/tickets/storeAndupdateTicket.php";
    let param = {
        "method" : "updateTicketStatusReviewToClose" ,
        "ticket_id" : '18' 
    };
    const response = await fetch(url , {
        method : "POST" , 
        body : JSON.stringify(params)
    });
    if(!response.ok) {
        console.error(`HTTP error! Status: ${response.status}`);
    }
    const data = response.json();
    if (data != null) {
        alert(data.message);
    }
})

</script>
</body>
</html> 

2025-04-15T13:54:49+02:00 :: Resposne received from => messageToCreateUserForReviewTicket 

2025-04-15T13:54:49+02:00 :: TO => sharmagunisha2@gmail.com 

 cc =>  

 subject => Action Required: Please Review Your Ticket - GLOCAL-4 

 body => 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .request_button {
            margin: 4px 2px;
            display: block;
            height: 25px;
            padding: 10px 20px;
            text-align: center;
            border-radius: 16px;
            font-weight: bold;
            line-height: 25px;
        }
    </style>
</head>
<body>
    
<section>
    <p>Hi </p>,
    <div>Our support team has reviewed and worked on your ticket <strong><br />
<b>Warning</b>:  Undefined array key "ticket_uniqueId" in <b>C:\xampp\htdocs\edtech_organizational_structure\app\tickets\createTicketReviewMessage.php</b> on line <b>29</b><br />
</strong></div>.
    <div>We believe the issue has been resolved. Please take a moment to review the ticket.</div>
    <div>If the issue is resolved, you can go ahead and close the ticket. If not, feel free to re-open the Ticket.</div>
    <p><b>Action Required : </b></p>
    <div style = "display:flex;gap:0.5rem;">
        <a href= "http://edtechstrucure.local/app/tickets/storeAndupdateTicket" id="closeButton" class = "button request_button" style = "background: #40ca58eb;color: white;">Close</a>
        <a href= "http://edtechstrucure.local/api/ticket/ReopenTicketReviewMessage" id="reopenButton" class = "button request_button" style = "background:rgba(234, 168, 36, 0.86);color: white;">Re-open</a>
    </div>
    <br><br>
    <small><i>  *This is a system-generated email. No reply is required.</i></small>
</section>

<script type="text/javascript">

var baseUrl = "http://edtechstrucure.local";

document.getElementById("reopenButton").addEventListener("click" , (e) => {
    let openWindowId ;
    let ticket_id = '18';
    ticket_id = base64_encode(ticket_id);
    if(window.confirm("Want to Re-open the ticket?")) {
        openWindowId = window.open(baseUrl+"/api/ticket/ReopenTicketReviewMessage.php?ticket_id="+ticket_id);
    } 
})

document.getElementById("closeButton").addEventListener("click" , async function(e){
    let url = baseUrl+"/app/tickets/storeAndupdateTicket.php";
    let param = {
        "method" : "updateTicketStatusReviewToClose" ,
        "ticket_id" : '18' 
    };
    const response = await fetch(url , {
        method : "POST" , 
        body : JSON.stringify(params)
    });
    if(!response.ok) {
        console.error(`HTTP error! Status: ${response.status}`);
    }
    const data = response.json();
    if (data != null) {
        alert(data.message);
    }
})

</script>
</body>
</html> 

2025-04-15T13:54:49+02:00 :: mail_queue Data => [{"to":"sharmagunisha2@gmail.com","cc":null,"subject":"Action Required: Please Review Your Ticket - GLOCAL-4","body":"\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Document<\/title>\r\n    <style>\r\n        .request_button {\r\n            margin: 4px 2px;\r\n            display: block;\r\n            height: 25px;\r\n            padding: 10px 20px;\r\n            text-align: center;\r\n            border-radius: 16px;\r\n            font-weight: bold;\r\n            line-height: 25px;\r\n        }\r\n    <\/style>\r\n<\/head>\r\n<body>\r\n    \r\n<section>\r\n    <p>Hi <\/p>,\r\n    <div>Our support team has reviewed and worked on your ticket <strong><br \/>\n<b>Warning<\/b>:  Undefined array key \"ticket_uniqueId\" in <b>C:\\xampp\\htdocs\\edtech_organizational_structure\\app\\tickets\\createTicketReviewMessage.php<\/b> on line <b>29<\/b><br \/>\n<\/strong><\/div>.\r\n    <div>We believe the issue has been resolved. Please take a moment to review the ticket.<\/div>\r\n    <div>If the issue is resolved, you can go ahead and close the ticket. If not, feel free to re-open the Ticket.<\/div>\r\n    <p><b>Action Required : <\/b><\/p>\r\n    <div style = \"display:flex;gap:0.5rem;\">\r\n        <a href= \"http:\/\/edtechstrucure.local\/app\/tickets\/storeAndupdateTicket\" id=\"closeButton\" class = \"button request_button\" style = \"background: #40ca58eb;color: white;\">Close<\/a>\r\n        <a href= \"http:\/\/edtechstrucure.local\/api\/ticket\/ReopenTicketReviewMessage\" id=\"reopenButton\" class = \"button request_button\" style = \"background:rgba(234, 168, 36, 0.86);color: white;\">Re-open<\/a>\r\n    <\/div>\r\n    <br><br>\r\n    <small><i>  *This is a system-generated email. No reply is required.<\/i><\/small>\r\n<\/section>\r\n\r\n<script type=\"text\/javascript\">\r\n\r\nvar baseUrl = \"http:\/\/edtechstrucure.local\";\r\n\r\ndocument.getElementById(\"reopenButton\").addEventListener(\"click\" , (e) => {\r\n    let openWindowId ;\r\n    let ticket_id = '18';\r\n    ticket_id = base64_encode(ticket_id);\r\n    if(window.confirm(\"Want to Re-open the ticket?\")) {\r\n        openWindowId = window.open(baseUrl+\"\/api\/ticket\/ReopenTicketReviewMessage.php?ticket_id=\"+ticket_id);\r\n    } \r\n})\r\n\r\ndocument.getElementById(\"closeButton\").addEventListener(\"click\" , async function(e){\r\n    let url = baseUrl+\"\/app\/tickets\/storeAndupdateTicket.php\";\r\n    let param = {\r\n        \"method\" : \"updateTicketStatusReviewToClose\" ,\r\n        \"ticket_id\" : '18' \r\n    };\r\n    const response = await fetch(url , {\r\n        method : \"POST\" , \r\n        body : JSON.stringify(params)\r\n    });\r\n    if(!response.ok) {\r\n        console.error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = response.json();\r\n    if (data != null) {\r\n        alert(data.message);\r\n    }\r\n})\r\n\r\n<\/script>\r\n<\/body>\r\n<\/html>"}]

2025-04-15T13:54:49+02:00 :: url => http://edtechstrucure.local/app/mailSystem/CreateMailQueue , request => {"data":[{"to":"sharmagunisha2@gmail.com","cc":null,"subject":"Action Required: Please Review Your Ticket - GLOCAL-4","body":"\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Document<\/title>\r\n    <style>\r\n        .request_button {\r\n            margin: 4px 2px;\r\n            display: block;\r\n            height: 25px;\r\n            padding: 10px 20px;\r\n            text-align: center;\r\n            border-radius: 16px;\r\n            font-weight: bold;\r\n            line-height: 25px;\r\n        }\r\n    <\/style>\r\n<\/head>\r\n<body>\r\n    \r\n<section>\r\n    <p>Hi <\/p>,\r\n    <div>Our support team has reviewed and worked on your ticket <strong><br \/>\n<b>Warning<\/b>:  Undefined array key \"ticket_uniqueId\" in <b>C:\\xampp\\htdocs\\edtech_organizational_structure\\app\\tickets\\createTicketReviewMessage.php<\/b> on line <b>29<\/b><br \/>\n<\/strong><\/div>.\r\n    <div>We believe the issue has been resolved. Please take a moment to review the ticket.<\/div>\r\n    <div>If the issue is resolved, you can go ahead and close the ticket. If not, feel free to re-open the Ticket.<\/div>\r\n    <p><b>Action Required : <\/b><\/p>\r\n    <div style = \"display:flex;gap:0.5rem;\">\r\n        <a href= \"http:\/\/edtechstrucure.local\/app\/tickets\/storeAndupdateTicket\" id=\"closeButton\" class = \"button request_button\" style = \"background: #40ca58eb;color: white;\">Close<\/a>\r\n        <a href= \"http:\/\/edtechstrucure.local\/api\/ticket\/ReopenTicketReviewMessage\" id=\"reopenButton\" class = \"button request_button\" style = \"background:rgba(234, 168, 36, 0.86);color: white;\">Re-open<\/a>\r\n    <\/div>\r\n    <br><br>\r\n    <small><i>  *This is a system-generated email. No reply is required.<\/i><\/small>\r\n<\/section>\r\n\r\n<script type=\"text\/javascript\">\r\n\r\nvar baseUrl = \"http:\/\/edtechstrucure.local\";\r\n\r\ndocument.getElementById(\"reopenButton\").addEventListener(\"click\" , (e) => {\r\n    let openWindowId ;\r\n    let ticket_id = '18';\r\n    ticket_id = base64_encode(ticket_id);\r\n    if(window.confirm(\"Want to Re-open the ticket?\")) {\r\n        openWindowId = window.open(baseUrl+\"\/api\/ticket\/ReopenTicketReviewMessage.php?ticket_id=\"+ticket_id);\r\n    } \r\n})\r\n\r\ndocument.getElementById(\"closeButton\").addEventListener(\"click\" , async function(e){\r\n    let url = baseUrl+\"\/app\/tickets\/storeAndupdateTicket.php\";\r\n    let param = {\r\n        \"method\" : \"updateTicketStatusReviewToClose\" ,\r\n        \"ticket_id\" : '18' \r\n    };\r\n    const response = await fetch(url , {\r\n        method : \"POST\" , \r\n        body : JSON.stringify(params)\r\n    });\r\n    if(!response.ok) {\r\n        console.error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = response.json();\r\n    if (data != null) {\r\n        alert(data.message);\r\n    }\r\n})\r\n\r\n<\/script>\r\n<\/body>\r\n<\/html>"}]} 

2025-04-15T13:54:50+02:00 :: response => {"status":200,"message":"Worker Start successfully!"} 

2025-04-15T13:54:50+02:00 :: respose => {"status":200,"message":"Status Updated successfully!"}

 ============ End Of Script ================== 

